name: ci-core

on:
  push:
    paths:
      - 'pkg/toy-core/**'

jobs:
  build-core:
    name: build toy-core
    runs-on: ubuntu-latest
    steps:
    - name: checkout
      uses: actions/checkout@v2
      with:
        path: pkg/toy-core
    
    - name: install rust
      uses: actions-rs/toolchain@v1
      with:
        toolchain: nightly
        profile: minimal
        override: true
    
    - name: test
      uses: actions-rs/cargo@v1
      with:
        command: test
        args: --manifest-path ${{ github.workspace }}/pkg/toy-core/Cargo.toml 
      
